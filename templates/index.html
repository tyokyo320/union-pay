<!--index.html-->
<a>
    <h2>{{ .title }}</h2>
    <h2 id="rate"></h2>
    <h2 id="lastestRate"></h2>
    <h2 id="historyRate"></h2>
</a>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<script>
    $(function () {
        $.ajax({
            url: "/rate/latest",
            method: "POST",
            // data: JSON.stringify({
            //     date: new Date().toISOString().slice(0, 10),
            // }),
            dataType: "json",
            contentType: 'application/json',
            success: function (result) {
                $("#lastestRate").html(result.lastestRate.exchangeRate);
            }
        });

        $.ajax({
            url: "/rate/history",
            method: "POST",
            data: JSON.stringify({
                page: 1,
                pageSize: 10,
            }),
            dataType: "json",
            contentType: 'application/json',
            success: function (result) {
                result.historyRate.forEach(e => {
                    $("#historyRate").append(
                        `<p>${e.exchangeRate}</p>`
                    );
                });
            }
        });
    });
</script>